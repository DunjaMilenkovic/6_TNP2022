% !TEX encoding = UTF-8 Unicode

\documentclass[a4paper]{article}

\usepackage{color}
\usepackage{url}
\usepackage[T2A]{fontenc} % enable Cyrillic fonts
\usepackage[utf8]{inputenc} % make weird characters work
\usepackage{graphicx}

\usepackage{amsmath} % potrebno za matematiku
\usepackage{amsfonts}

\usepackage[english,serbian]{babel}
%\usepackage[english,serbianc]{babel} %ukljuciti babel sa ovim opcijama, umesto gornjim, ukoliko se koristi cirilica

\usepackage[unicode]{hyperref}
\hypersetup{colorlinks,citecolor=green,filecolor=green,linkcolor=blue,urlcolor=blue}

%\newtheorem{primer}{Пример}[section] %ćirilični primer
\newtheorem{primer}{Primer}[subsection]
\newtheorem{defn}[primer]{Definicija}

\begin{document}

\title{Diffie-Hellman algoritam\\ \small{Seminarski rad u okviru kursa\\Tehničko i naučno pisanje\\ Matematički fakultet}}

\author{Dunja Milenković\\ mi22056@alas.matf.bg.ac.rs\and Jana Vuković\\mi22124@alas.matf.bg.ac.rs\and Lazar Nikolić\\mi22164@alas.matf.bg.ac.rs\and Sofija Janevska\\mi22035@alas.matf.bg.ac.rs }
\date{15.~novembar 2022.}
\maketitle

\abstract{
U ovom tekstu je ukratko prikazana osnovna forma seminarskog rada. Obratite pažnju da je pored ove .pdf datoteke, u prilogu i odgovarajuća .tex datoteka, kao i .bib datoteka korišćena za generisanje literature. Na prvoj strani seminarskog rada su naslov, apstrakt i sadržaj, i to sve mora da stane na prvu stranu! Kako bi Vaš seminarski zadovoljio standarde i očekivanja, koristite uputstva i materijale sa predavanja na temu pisanja seminarskih radova. Ovo je samo šablon koji se odnosi na fizički izgled seminarskog rada (šablon koji \emph{morate} da ispoštujete!) kao i par tehničkih pomoćnih uputstava. 

\tableofcontents

\newpage

\section{Uvod}
\label{sec:uvod}
Sve rasprostranjenija upotreba interneta širom sveta donosi sa sobom, kako značajne prednosti u načinu istraživanja, rada, povezivanja i sl. tako i povećan rizik od nebezbedne komunikacije i razmene podataka. Bilo da se radi o individualnim, privatnim razmenama informacija između ljudi ili rada nekih od najvećih državnih institucija, bezbedna i neometana interakcija i komunikacija među korisnicima na internetu je od presudnog značaja. Glavni problem nastaje kada spoljni korisnik koji nije predviđen kao deo veze pokuša da je prekine i dođe do određenih informacija koje su originalno bile namenjene jednom od povezanih korisnika. Upravo rešavanjem ovakvih problema bavi se \textbf{kriptografija}.

Kriptografija je oblast koja razvija tehnike koje omogućavaju zaštićenu i efikasnu digitalnu komunikaciju \cite{cryptography}. Bez nje, komunikacija nebezbednim i nepoverljivim kanalima, što uključuje sve vrste mreža, a pogotovo internet, ne bi bila moguća. U ovom radu bavićemo se jednom od tehnika kriptografije koja se naziva \textbf{Diffie-Hellman algoritam} tj. \textbf{Diffie-Hellman protokol} i predstavićemo način rada algoritma, njegova osnovna svojstva, primene, prednosti i mane.

\section{Osnove Diffie-Hellman algoritma}
Glavna klasifikacija kriptografskih algoritama deli ih na kriptografiju privatnog ključa (eng. secret key cryptography), kriptografiju javnog ključa (eng. public key cryptography) i heš funkcije (eng. hash functions) \cite{cryptography}. Kako je Diffie-Hellman protokol predstavnik asimetrične kriptografije, nju ćemo posebno izdvojiti i definisati.

\textbf{Kriptografija javnog ključa} ili \textbf{asimetrična kriptografija} podrazumeva korišćenje dva ključa – jednog za šivrovanje i drugog za dešifrovanje koda. „Tvorcima“ tj. pokretačima asimetrične kriptografije smatraju se \textbf{Whitfield Diffie} (Vitfild Difi) i \textbf{Martin Hellman} (Martin Helman), dok je Ralph Merkle (Ralf Merkl) takođe dao svoj doprinos ovoj oblasti radom na distribuciji javnog ključa \cite{Diffie-Hellman}. Njihova saradnja rezultirala je objavom zajedničkog rada pod nazivom ,,Novi pravci u kriptografiji‘‘ (eng. "New Directions in Cryptography"), novembra 1976. godine. U njemu su opisane osnove Diffie-Hellman algoritma, koji je upravo otud i dobio naziv. Diffie i Hellman su 2015. godine dobili Tjuringovu nagradu za svoja dostignuća u oblasti kriptografije. 

U spomenutom radu, Diffie-Hellman algoritam opisan je kao algoritam koji koristi dva ključa i tako omogućava korisnicima bezbednu komunikaciju bez potrebe za deljenjem privatnog ključa. Takođe, simetrična kriptografija omogućava postojanje digitalnih potpisa tj. autentifikacije pošiljaoca poruke. Osnovni princip na kome funkcioniše jeste korišćenje tzv. jednosmernih matematičkih funkcija (eng. one-way functions), koje se lako izračunavaju u jednom smeru, dok isto ne važi i za njihove inverzne funkcije \cite{cryptography}. Na ovaj način omogućeno je postojanje javnog ključa, bez rizika da ga treći korisnik koji nije predviđen kao deo mreže može zloupotrebiti. 



\section{Engleski termini i citiranje}	
\label{sec:termini_i_citiranje}

Na svakom mestu u tekstu naglasiti odakle tačno potiču informacije. Uz sve novouvedene termine u zagradi naglasiti od koje engleske reči termin potiče. 

Naredni primeri ilustruju način uvođenja enlegskih termina kao i citiranje.

\begin{primer}
Problem zaustavljanja (eng.~{\em halting problem}) je neodlučiv \cite{haltingproblem}.
\end{primer}

\begin{primer}
Za prevođenje programa napisanih u programskom jeziku C može se koristiti GCC kompajler \cite{gcc}.
\end{primer}

\begin{primer}
 Da bi se ispitivala ispravost softvera, najpre je potrebno precizno definisati njegovo ponašanje \cite{laski2009software}. 
\end{primer}

Ukoliko za unos referenci koriste datoteku {\em seminarski.bib},  prevođenje u pdf format u Linux okruženju može se uraditi na sledeći način:
\begin{verbatim}
pdflatex TemaImePrezime.tex 
bibtex TemaImePrezime.aux 
pdflatex TemaImePrezime.tex 
pdflatex TemaImePrezime.tex 
\end{verbatim}
Prvo latexovanje je neophodno da bi se generisao {\em .aux} fajl. {\em bibtex} proizvodi odgovarajući {\em .bbl} fajl koji se koristi za generisanje literature. 
Potrebna su dva prolaza (dva puta pdflatex) da bi se reference ubacile u tekst (tj da ne bi ostali znakovi pitanja umesto referenci). Dodavanjem novih referenci potrebno je ponoviti ceo postupak.  


Broj naslova i podnaslova je proizvoljan. Neophodni su samo Uvod i Zaključak. Na poglavlja unutar teksta referisati se po potrebi. 
\begin{primer}
U odeljku \ref{sec:naslov1} precizirani su osnovni pojmovi, dok su zaključci dati u odeljku \ref{sec:zakljucak}.
\end{primer}




\section{Slike i tabele}
\label{slike_i_tabele}

Slike i tabele treba da budu u svom okruženju, sa odgovarajućim naslovima, obeležene labelom da koje omogućava referenciranje. 

\begin{primer} Ovako se ubacuje slika. Obratiti pažnju da je dodato i 
\begin{verbatim}
\usepackage{graphicx}
\end{verbatim}

\begin{figure}[h!]
\begin{center}
\includegraphics[scale=0.2]{pande.png}
\end{center}
\caption{Pande}
\label{fig:pande}
\end{figure}

Na svaku sliku neophodno je referisati se negde u tekstu. Na primer, na slici \ref{fig:pande} prikazane su pande. 
\end{primer}

\begin{primer} I tabele treba da budu u svom okruženju, i na njih je neophodno referisati se u tekstu. Na primer, u tabeli \ref{tab:tabela1} su prikazana različita poravnanja u tabelama.

\begin{table}[h!]
\begin{center}
\caption{Razlčita poravnanja u okviru iste tabele ne treba koristiti jer su nepregledna.}
\begin{tabular}{|c|l|r|} \hline
centralno poravnanje& levo poravnanje& desno poravnanje\\ \hline
a &b&c\\ \hline
d &e&f\\ \hline
\end{tabular}
\label{tab:tabela1}
\end{center}
\end{table}

\end{primer}





\section{Algoritam}
\label{sec:algoritam}

Pre početka razmene ključeva, uspostavljaju se 2 javno poznata broja: $p$ i $g$.
\begin{itemize}

    \item $p$ - bezbedan prost broj i modulo po kom radimo, preporuka je da to bude broj dužine 2048 bita (broj reda $10^{616}$) \cite{logjam}
    \item $g$ - generator, mora da bude primitivni koren od $p$

\end{itemize}

\emph{Bezbedan prost broj}: $p$ je bezbedno prost ako može da se izrazi kao $p = 2q + 1$ gde je $q$ takođe prost broj. 
$q$ je Sofija Žermen prost (eng. \emph{Sophie Germain prime}). 
Ovo je bitno kako bi se izbegao specifičan napad na Diffie-Hellman --- 
Silver-Polig-Hellman algoritam (eng. \emph{Silver-Pohlig-Hellman algorithm}) \cite{pohlig-hellman}

\emph{Primitivni koren}: $g$ je primitivni koren po modulu $p$ ako za svaki celi broj $a$ koji je uzajamno prost sa $p$ postoji celi broj $k$ tako da je
    \[g^k \equiv a \mod p\]
Takvo $k$ se naziva indeks ili diskretni logaritam od $a$ sa odnovom $g \mod p$.



\subsection{Koraci algoritma}
\label{subsec:koraci_algoritma}

Recimo da Anastasija i Boban žele da razmene ključeve.
\begin{itemize}
    \item Pretpostavljamo da su se Anastasija i Boban već dogovorili oko brojeva $g$ i $p$
    \item Anastasija nasumično bira neki tajni broj $x \in \mathbb{N}$ i izračuna njegov \emph{najmanji pozitivni ostatak} 
        (objašnjeno kasnije), čime dobija  $a$, ovo je njen privatni ključ
    \item Zatim kalkuliše njen javni ključ koji je jednak $A = g^a \mod p$ 
    \item Boban će uraditi isto, nakon čega poseduje privatni ključ $b$ i javni ključ $B = g^b \mod p$
    \item Anastasija i Boban sada razmene njihove javne ključeve (privatni ključevi ostaju tajni)
    \item Anastasija sada poseduje svoje ključeve, kao i Bobanov javni ključ
    \item Ona će izračunati tajni broj $K = B^a \mod p$. Ako zamenimo $B$, videćemo da je
        \begin{align*}
            K = (g^b \mod p)^a \mod p &=\\ (g^b)^a \mod p &=\\ g^{ab} \mod p
        \end{align*}
    \item Boban poseduje svoje ključeve i Anastasijin javni ključ
    \item On će istim postupkom kao i Anastasija pronaći $K$
        \begin{align*}
            K = A^b \mod p &=\\ (g^a \mod p)^b \mod p &=\\ (g^a)^b \mod p &=\\ g^{ab} \mod p
        \end{align*}
\end{itemize}

\begin{defn}
    Najmanji pozitivni ostatak nekog $x$ po modulu $p$ je najmanji pozitivni celi broj $a$ tako da je 
    \[x \equiv a \mod n\]
\end{defn}

Primetimo da će i Anastasija i Boban izračunati isti broj $K$. 
$K$ predstavlja ključ za enkripciju ključeva (engl. \emph{Key-Encryption Key (KEK)}). 
Pomoću tog ključa mogu sinhrono da razmene novi ključ za enkripciju sadržaja 
(engl. \emph{Content-Encryption Key (CEK)}) i da nastave komunikaciju pomoću njega. \cite{dhstandard}

Neko ko je prisluškivao ovoj razmeni zna $p$, $g$, $g^a$ i $g^b$. Da bi od ovih brojeva pronašao $K$, on mora da izračuna vrednost $a$ ili $b$, problem koji se zove \emph{komputacioni Diffie-Hellman problem} (engl. \emph{computational Diffie-Hellman problem (CDH)}). 

\subsection{Problemi oslonci}
\label{subsec:problemi_oslonci}

Neka $G$ bude ciklična grupa reda $q$, sa generatorom $g$. Drugačije rečeno, svaki broj $x$ iz $G$ je 
kongruentan sa nekim $g^k$, gde je $k$ neki celi broj tako da je $0 \leq k \leq q - 1$.
\[x = g^k\]
Ako znamo $g$ i $k$, lako možemo izračunati $x$. Međutim, ako znamo $x$ i $g$, pronalaženje $k$ je veoma teško, 
i to je zapravo problem diskretnog logaritma.

\begin{defn}
Problem diskretnog logaritma u cikličnoj grupi $G$ reda $q$ je pronalaženje broja $k$, $0 \leq k \leq q - 1$ 
tako da $x = g^a$, za neko $g$ i $x$.
\end{defn}

Ako možemo da rešimo problem diskretnog logaritma, možemo da nađemo i tajni broj $K$ iz Diffie-Hellman ako znamo oba javna ključa.
Obrnuto nije dokazano: ako možemo da pronađemo tajni broj $K$, ne mora da znači da možemo rešiti bilo koji problem 
diskretnog logaritma.

Ne treba da pretpostavimo da je diskretni logaritam jedini način da se razbije Diffie-Hellman. 
Dovoljna je bilo koja metoda koja može da pronađe $g^{ab}$ iz $g^a$ i $g^b$, i otud uvođenje sledećeg problema:

\begin{defn}
    Neka $a,b\in \mathbb{Z}\setminus q\mathbb{Z}$ ($a$ i $b$ su u nekoj cikličnoj grupi reda $q$ \textbf{nek neko proveri ovo!}),
    i neka $A = g^a$ i $B = g^b$
    \textbf{Komputacioni Diffie-Hellman problem} (CDH) je problem nalaženja $g^{ab}$ ako znamo $A$ i $B$ u cikličnoj grupi
    $G = \langle g \rangle$ reda $q$.
\end{defn}

Na težini ovog problema se oslanja bezbednost Diffie-Hellman šeme. Komputacioni Diffie-Hellman je u
srodstvu sa problemom Diskretog Logaritma, i najefikasnije rešenje za koje znamo je da rešimo problem Diskretnog Logaritma 
ali još uvek nije dokazana ekvivalencija između njih. \cite{dlproblem}
Takođe slična je i ElGamal enkripcija o kojoj će biti reči kasnije. Ona se oslanja na sledeći problem:

\begin{defn}
    Neka $a,b,c\in \mathbb{Z}\setminus q\mathbb{Z}$ i $A = g^a$, $B = g^b$. Sa verovatnoćom $\frac{1}{2}$ postavimo $C = g^c$, 
    a inače $C = g^{ab}$. Odlučujući Diffie-Hellman problem (engl. \emph{Decisional Diffie-Hellman problem (DDH)}) je problem
    odlučivanja da li je $C = g^{ab}$, ako znamo $\langle g \rangle$ i $A, B, C$.
\end{defn}

Ako znamo da rešimo komputacioni Diffie-Hellman problem, lako je rešiti odlučujući Diffie-Hellman problem.
Obrnuto ne važi. [citation needed]

\section{Primer Diffie-Hellman algoritma na konkretnim vrednostima}
\label{sec:primerDH}

Algoritam opisan u prethodnim poglavljima, primenjen na vrednostima konkretizovanim kroz interakciju dva korisnika izgleda ovako:
\begin{itemize}
  \item Neka je izabrani prost broj $q=353$.
  \item Prost koren za ovu vrednost je $\alpha=3$. 
  \item Korisnik A bira tajni ključ $X_A=97$. \item Korisnik B bira tajni ključ $X_B=233$.
  \item Korisnik A izračunava javni ključ $Y_A=3^{97}\mod353=40$.
  \item Korisnik B izračunava javni ključ $Y_B=3^{233}\mod353=248$.
  \item Korisnici A i B razmenjuju javne ključeve $Y_A$ i $Y_B$, nakon čega oba korisnika mogu da izračunaju tajni ključ $K$.
  \item Korisnik A tajni ključ izračunava po formuli: $$K=(Y_B)^{X_A}\mod353=248^{97}\mod353=160$$
  \item Korisnik B tajni ključ izračunava po formuli: $$K=(Y_A)^{X_B}\mod353=40^{233}\mod353=160$$
\end{itemize}

Po samoj definiciji algoritma možemo slobodno pretpostaviti da napadač na raspolaganju ima samo podatke o vrednosti izabranog prostog broja i njegovog prostog korena, kao i vrednosti javnih ključeva korisnika A i B. Dakle, napadač zna da je: \\\centerline{$q=353$, $\alpha=3$, $Y_A=40$ i $Y_B=248$.}

S obzirom da su radi jednostavnosti izabrani brojevi u ovom primeru veoma mali, napadač može da pokuša i teorijski uspe da otkrije vrednost tajnog ključa $K$, primenjujući čistu metodu grube sile ("brute force").

Da bi napadač otkrio vrednost tajnog ključa $K$, neophodno je da otkrije bar jednu vrednost koja će zadovoljavati jednačinu za izračunavanje tajnog ključa koju koriste korisnici. Koristeći informacije koje su mu poznate, napadač može da rekonstruiše kako igledaju te jednačine, a potom pokuša da ih reši metodom grube sile: \\\centerline{$Y_A=3^a\mod353=40$ ili $Y_B=3^b\mod353=248$.}

Metoda grube sile u ovom slučaju podrazumeva stepenovanje trojke sve dok dobijena vrednost po modulu 353 ne postane 40 ili 248.

Jednačina biva zadovoljena kada je eksponent $a=97$. Sa ovim saznanjem, napadač izračunava vrednost tajnog ključa $K$ i dešifruje podatke deljene između korisnika A i B.

Zbog ovoga se u Diffie-Hellman algoritmu koriste vrednosti koje su značajno veće. U tom slučaju razbijanje algoritma grubom silom postaje krajnje nepraktično.
 

\subsection{... podnaslov}
\label{subsec:podnaslovN}

Ovde pišem tekst. 
Ovde pišem tekst. 
Ovde pišem tekst. 
Ovde pišem tekst. 
Ovde pišem tekst. 
Ovde pišem tekst. 

\section{Primene na bezbednosnim protokolima}
\label{sec:primene}

Diffie-Hellman algoritam ima široku primenu na različite internet protokole, od kojih su najvažniji SSL, SSH i IPSec, koji će biti detaljnije opisani u nastavku.

\subsection{SSL}
\label{subsec:ssl}

SSL (skraćeno od eng. Secure Socket Layer) je protokol koji omogućava bezbednu onlajn komunikaciju između veb servera i pretraživača, koristeći upravo Diffie-Hellman algoritam \cite{use}. Sastoji se iz dva sloja: donjeg i gornjeg. Donji sloj omogućava privatnu i sigurnu komunikaciju koristeći TCP (skraćeno od eng. Transmission Control Protocol), koji se zasniva samo na simetričnoj kriptografiji. Upravo u gornjem sloju, koji se naziva i protokol rukovanja (eng. handshake protocol), koristi se Diffie-Hellman algoritam. On omogućava autentifikaciju servera klijentu, kao i korišćenje javnog ključa za ,,dogovaranje‘‘) o načinu šifrovanja i razmene ključeva koju će koristiti za komunikaciju \cite{use}. 

Jedna od najznačajnijih primena SSL protokola odnosi se na osiguravanje onlajn transakcija kao što je npr. elektronsko bankarstvo.

\subsection{SSH}
\label{subsec:ssh}

SSH (skraćeno od eng. Secure Shell) je protokol koji se koristi za osiguravanje internet veze između dva računara \cite{use}. Na ovaj način, omogućeno je bezbedno prijavljivanje sa jednog računara na neki drugi, udaljeni računar, vršenje komandi na udaljenom računaru, kao i prenos podataka između njih. Šifrovanje se odvija na sličan način kao u SSL protokolu.

\subsection{IPSec}
\label{subsec:ipsec}

IPSec (skraćeno od eng. Internet Protocol Security) je protokol koji obezbeđuje komunikaciju između dve jedinice povezane IP mrežom \cite{use}. Dok prethodna dva protokola štite samo saobraćaj koji se odvija preko njih tj. njihovih aplikacija, IPSec funkcioniše za sve konekcije ostvarene između bilo koja dva računara u okviru IP mreže \cite{use}. Drugim rečima, IPSec podrzumeva transparentnu komunikaciju, u kojoj ni korisnici ni aplikacija ne moraju znati ništa o šifrovanju veze, što ga dovodi u prednost u odnosu na prethodno navedene protokole.

\section{Poslednji naslov}
\label{sec:naslovM}

Ovde pišem tekst. 
Ovde pišem tekst. 
Ovde pišem tekst. 
Ovde pišem tekst. 
Ovde pišem tekst. 
Ovde pišem tekst. 
Ovde pišem tekst. 
Ovde pišem tekst. 
Ovde pišem tekst. 

\section{Zaključak}
\label{sec:zakljucak}

Ovde pišem zaključak. 
Ovde pišem zaključak. 
Ovde pišem zaključak. 
Ovde pišem zaključak. 
Ovde pišem zaključak. 
Ovde pišem zaključak. 
Ovde pišem zaključak. 
Ovde pišem zaključak. 
Ovde pišem zaključak. 
Ovde pišem zaključak. 
Ovde pišem zaključak. 
Ovde pišem zaključak. 


\addcontentsline{toc}{section}{Literatura}
\appendix

\iffalse
\bibliography{seminarski} 
\bibliographystyle{plain}
\fi

\begin{thebibliography}{9}

\bibitem{cryptography} Gary C. Kessler. \emph{An Overview of Cryptography}, 2015.

\bibitem{Diffie-Hellman} Maryam Ahmed, Baharan Sanjabi, Difo Aldiaz, Amirhossein Rezaei, Habeeb Omotunde. \emph{Diffie-Hellman and Its Application in Security Protocols}, International Journal of Engineering Science and Innovative Technology (IJESIT), 2012.

\bibitem{use} David A. Carts. \emph{A Review of the Diffie-Hellman Algorithm and its Use in Secure Internet Protocols}, SANS Institute, 2001.

\bibitem{logjam} Adrian, David; et al. (October 2015). \emph{Imperfect Forward Secrecy: How Diffie-Hellman Fails in Practice}

\bibitem{pohlig-hellman} Mollin, Richard (2006-09-18). \emph{An Introduction To Cryptography} (2nd ed.). Chapman and Hall/CRC. p. 344

\bibitem{dhstandard} E. Rescorla (June 1999). \emph{Diffie-Hellman Key Agreement Method}

\bibitem{dlproblem} Kevin S. McCurley (1990). \emph{The Discrete Logarithm Problem}

\end{thebibliography}


\appendix
\section{Dodatak}
Ovde pišem dodatne stvari, ukoliko za time ima potrebe.
Ovde pišem dodatne stvari, ukoliko za time ima potrebe.
Ovde pišem dodatne stvari, ukoliko za time ima potrebe.
Ovde pišem dodatne stvari, ukoliko za time ima potrebe.
Ovde pišem dodatne stvari, ukoliko za time ima potrebe.

    
\end{document}
